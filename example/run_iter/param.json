{
    "work_dir":"/data/home/wuxingxing/datas/al_dir/si",

    "record_file" : "si.al",

    "reserve_work":true,
    "reserve_feature": true,
    "reserve_md_traj": false,
    "reserve_scf_files": false,

    "init_mvm_files": ["mvm_500k_100","mvm_800k_50"],

    "train": {
        "_train_input_file":"std_si.json",

        "model_type": "DP",
        "atom_type": [
            14
        ],
        "max_neigh_num": 100,
        "seed": 2023,
        "model_num": 1,
        "train_valid_ratio": 0.8,
        "recover_train": true,
        "model": {
            "descriptor": {
                "Rmax": 6.0,
                "Rmin": 0.5,
                "M2": 16,
                "network_size": [
                    25,
                    25,
                    25
                ]
            },
            "fitting_net": {
                "network_size": [
                    50,
                    50,
                    50,
                    1
                ]
            }
        },
        "optimizer": {
            "optimizer": "LKF",
            "epochs": 20,
            "batch_size": 32,
            "print_freq": 10,
            "block_size": 5120,
            "kalman_lambda": 0.98,
            "kalman_nue": 0.9987,
            "train_energy": true,
            "train_force": true,
            "train_ei": false,
            "train_virial": false,
            "train_egroup": false,
            "pre_fac_force": 2.0,
            "pre_fac_etot": 1.0,
            "pre_fac_ei": 1.0,
            "pre_fac_virial": 1.0,
            "pre_fac_egroup": 0.1
        }
    },

    "strategy": {

        "uncertainty":"committee",
        "lower_model_deiv_f": 0.51,
        "upper_model_deiv_f": 1.05,
        "_strategy":"KPU or committee, if committee: model_num more than 1, 是否采用devi force virial 组合需要讨论",
        "model_num": 4,

        "base_kpu_max_images":200,
        "base_kpu_mvm_ratio":0.2,
        "kpu_lower":0.5,
        "kpu_upper":1.5,
        "_kpu":"base_kpu_max_images max select images for kpu, ratio is mvms used in base kpu", 

        "max_select": 10,
        "md_type":2,
        "_md_type": "1 for libtorch md, 2 for fortran md",
        "compress": true,
        "compress_order":3,
        "Compress_dx":0.01
    },

    "explore": {
        "sys_config_prefix": "/data/home/wuxingxing/datas/al_dir/si/sys_config/structures",
        "sys_configs": ["49.config",
                        "45.config",
                        "41.config",
                        "37.config",
                        "33.config",
                        "29.config",
                        "25.config",
                        "21.config",
                        "17.config",
                        "1.config"
        ],
        "md_jobs": [
        [{      
                "_idx": 0,
                "ensemble": "npt",
                "nsteps": 500,
                "md_dt": 0.001,
                "trj_freq": 10,
                "press": [ 100.0, 1000.0],
                "taup": 0.5,
                "sys_idx": [ 0,3],
                "temps": [ 50, 719.6 ],
                "taut":0.1,
                "boundary":true,
                "_neigh_modify": 10,
                "_mass":"list or string",
                "merge_traj":false
            },
            {
                "_idx": 1,
                "ensemble": "npt",
                "nsteps": 1000,
                "press": [ 1.0, 1000.0],
                "sys_idx": [ 0,1,2],
                "temps": [ 50, 719.6 ],
                "trj_freq": 10
            }
        ],
        {
            "_idx": 2,
            "ensemble": "npt",
            "nsteps": 2000,
            "press": [ 100.0, 1000.0],
            "sys_idx": [2,3],
            "temps": [ 539.7, 719.6 ],
            "trj_freq": 10
        },
        {
            "_idx": 3,
            "ensemble": "npt",
            "nsteps": 3000,
            "press": [ 1.0, 10.0, 100.0, 1000.0],
            "sys_idx": [ 0,1,2,3],
            "temps": [ 50, 179.9, 359.8, 539.7, 719.6 ],
            "trj_freq": 10
        }
        ]
   },

    "DFT": {
            "scf_etot_input": "scf_etot.input",
            "kspacing":0.5,
            "flag_symm":0,
            "pseudo" : ["/data/home/wuxingxing/datas/systems/NCPP-SG15-PBE/Si.SG15.PBE.UPF"],
            
            "_scf_etot_input":[
                {
                    "etot_input":"scf_etot0.input",
                    "kspacing":0.5,
                    "flag_symm":"0",
                    "_flag":"1个整数，or scf 0 , aimd 3, 磁性体系2"
                },
                {
                    "etot_input":"scf_etot1.input",
                    "kspacing":0.5,
                    "flag_symm":"0",
                    "_flag":"1个整数，or scf 0 , aimd 3, 磁性体系2"
                },
                {
                    "etot_input":"scf_etot2.input",
                    "kspacing":0.5,
                    "flag_symm":"0",
                    "_flag":"1个整数，or scf 0 , aimd 3, 磁性体系2"
                }
                ],

            "relax_etot_input_file":"relax_etot.input",
            "_pseudo" : ["/data/home/wuxingxing/datas/systems/NCPP-SG15-PBE/Si.SG15.PBE.UPF"],

            "node1":"1",
            "node2":"4",
            "e_error": 1.0e-6, 
            "rho_error": 1.0e-4,
            "ecut": 60, 
            "ecut2": 240, 
            "_kspacing":0.5,
            "out_wg":"F",
            "out_rho":"F",
            "out.vr":"F",
            "out_force":"T",
            "out_stress":"T",
            "out_mlmd":"F",
            "MP_N123":"1 1 1 0 0 0",
            "SCF_ITER0_1": "6 4 3 0.0 0.2 2",
            "SCF_ITER0_2": "94 4 3 1.0 0.2 2",
            "energy_decomp": "T",
            "energy_decomp_special2": "2, 0.05, 1.5",
            "_flag_symm":"str",
            "_icmix":"None",
            "_smearing":"None",
            "_sigma":"None"

    }
}